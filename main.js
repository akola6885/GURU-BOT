const _0x5ce055=_0x14f3;(function(_0x531327,_0x5944dc){const _0x3ea717=_0x14f3,_0xba5527=_0x531327();while(!![]){try{const _0x27c5e9=parseInt(_0x3ea717(0x171))/0x1+-parseInt(_0x3ea717(0x1b3))/0x2*(-parseInt(_0x3ea717(0x19b))/0x3)+parseInt(_0x3ea717(0x1a5))/0x4+parseInt(_0x3ea717(0x18c))/0x5+parseInt(_0x3ea717(0x1ea))/0x6+parseInt(_0x3ea717(0x193))/0x7+-parseInt(_0x3ea717(0x1d8))/0x8*(parseInt(_0x3ea717(0x16f))/0x9);if(_0x27c5e9===_0x5944dc)break;else _0xba5527['push'](_0xba5527['shift']());}catch(_0x55d6b6){_0xba5527['push'](_0xba5527['shift']());}}}(_0x3ea3,0x4a9f7),process[_0x5ce055(0x19c)]['NODE_TLS_REJECT_UNAUTHORIZED']='0');import'./config.js';import{createRequire}from'module';import _0x1fea8a,{join}from'path';import{fileURLToPath,pathToFileURL}from'url';import{platform}from'process';import*as _0x1a6762 from'ws';function _0x14f3(_0x4e7795,_0x327ead){const _0x3ea3f=_0x3ea3();return _0x14f3=function(_0x14f362,_0x2a5735){_0x14f362=_0x14f362-0x16a;let _0x22b401=_0x3ea3f[_0x14f362];return _0x22b401;},_0x14f3(_0x4e7795,_0x327ead);}import{readdirSync,statSync,unlinkSync,existsSync,readFileSync,watch,rmSync}from'fs';function _0x3ea3(){const _0x5e1888=['output','\x20updated\x20plugin\x20-\x20\x27','guru','ffmpegWebp','@user\x20now\x20admin','close','database.json','dirname','default','Safari','then','--version','./handler.js?update=','replace','url','9ZtrciQ','win32','408954RnOcbq','reloadHandler','onDelete','error','-hide_banner','logger','off','spromote','bind','Group\x20link\x20changed\x20\x0a@revoke','./tmp','MONGO_DB','module','useSingleFileAuthState','sIcon','connectionUpdate','write','sort','Skipping\x20.log\x20file:','extname','prefix','DATABASE','conn','sdemote','catch','@user\x20demoted','removeAllListeners','95300lCaSyA','support','sSubject','@adiwajshing/baileys','isFile','convert','1.0.0','465192fgCpzJ','data','now','Goodbye\x20@user','welcome','localeCompare','autocleartmp','loadDatabase','102105JYOuxI','env','\x5c$&','APIKeys','payload','Please\x20install\x20ffmpeg\x20for\x20sending\x20videos\x20(pkg\x20install\x20ffmpeg)','plugins','sRevoke','-loglevel','messages.upsert','1723288xlywMV','Error\x20deleting\x20file:','race','info','API','Group\x20subject\x20cchanged\x20\x0a@group','participantsUpdate','./server.js','mtimeMs','mongodbv2','find','__filename','forEach','color','22fUATlz','webp','server','statusCode','reload','Deleted\x20files:','handler','‎z/i!#$%+£¢€¥^°=¶∆×÷π√✓©®:;?&.,\x5c-','Stickers\x20may\x20not\x20work\x20without\x20imagemagick\x20if\x20libwebp\x20on\x20ffmpeg\x20doesnt\x20isntalled\x20(pkg\x20install\x20imagemagick)','group-participants.update','exitProcess','__dirname','parse','push','loggedOut','entries','-frames:v','warn','✅\x20\x20Auto\x20clear\x20\x20|\x20\x20tmp\x20folder\x20cleared','GURU-BOT','Group\x20icon\x20changed','log','deleteUpdate','groups.update','?update=','bye','./handler.js','opts','sDesc','syntax\x20error\x20while\x20loading\x20\x27','all','credsUpdate','./plugins/index','SERVER_PORT','groupsUpdate','connection.update','freeze','8516488xMhOcS','ffmpeg','test','Quick\x20Test\x20Done','magick','timestamp','keys','message.delete','ffprobe','READ','creds.update','__require','length','fromEntries','slice','APIs','.log','argv','423234ahpEkO','connect','PORT','uncaughtException'];_0x3ea3=function(){return _0x5e1888;};return _0x3ea3();}import _0x1e259b from'yargs';import{spawn}from'child_process';import _0x706611 from'lodash';import _0x36a68b from'chalk';import _0x5e28a2 from'syntax-error';import{tmpdir}from'os';import{format}from'util';import{makeWASocket,protoType,serialize}from'./lib/simple.js';import{Low,JSONFile}from'lowdb';import _0x1d5da0 from'pino';import{mongoDB,mongoDBV2}from'./lib/mongoDB.js';import _0x59c85b from'./lib/store.js';const {DisconnectReason,useMultiFileAuthState}=await import(_0x5ce055(0x18f)),{CONNECTING}=_0x1a6762,{chain}=_0x706611,PORT=process[_0x5ce055(0x19c)][_0x5ce055(0x1ec)]||process[_0x5ce055(0x19c)][_0x5ce055(0x1d4)]||0xbb8;import _0x4dd1c7 from'dotenv';protoType(),serialize(),_0x4dd1c7['config'](),global[_0x5ce055(0x1b0)]=function filename(_0x6915b4=import.meta[_0x5ce055(0x16e)],_0x783956=platform!==_0x5ce055(0x170)){return _0x783956?/file:\/\/\//['test'](_0x6915b4)?fileURLToPath(_0x6915b4):_0x6915b4:pathToFileURL(_0x6915b4)['toString']();},global[_0x5ce055(0x1be)]=function dirname(_0x155430){const _0x15d526=_0x5ce055;return _0x1fea8a[_0x15d526(0x1f5)](global[_0x15d526(0x1b0)](_0x155430,!![]));},global[_0x5ce055(0x1e3)]=function require(_0x444127=import.meta['url']){return createRequire(_0x444127);},global[_0x5ce055(0x1a9)]=(_0x240fb5,_0x27cc23='/',_0x3d5c58={},_0x1dbc7b)=>(_0x240fb5 in global[_0x5ce055(0x1e7)]?global[_0x5ce055(0x1e7)][_0x240fb5]:_0x240fb5)+_0x27cc23+(_0x3d5c58||_0x1dbc7b?'?'+new URLSearchParams(Object[_0x5ce055(0x1c2)]({..._0x3d5c58,..._0x1dbc7b?{[_0x1dbc7b]:global[_0x5ce055(0x19e)][_0x240fb5 in global[_0x5ce055(0x1e7)]?global['APIs'][_0x240fb5]:_0x240fb5]}:{}})):''),global['timestamp']={'start':new Date()};const __dirname=global[_0x5ce055(0x1be)](import.meta['url']);global['opts']=new Object(_0x1e259b(process[_0x5ce055(0x1e9)][_0x5ce055(0x1e6)](0x2))[_0x5ce055(0x1bd)](![])[_0x5ce055(0x1bf)]()),global[_0x5ce055(0x185)]=new RegExp('^['+(opts[_0x5ce055(0x185)]||_0x5ce055(0x1ba))[_0x5ce055(0x16d)](/[|\\{}()[\]^$+*?.\-\^]/g,_0x5ce055(0x19d))+']'),global[_0x5ce055(0x1ce)]['db']=process[_0x5ce055(0x19c)][_0x5ce055(0x17c)],global['db']=new Low(/https?:\/\//['test'](opts['db']||'')?new cloudDBAdapter(opts['db']):/mongodb(\+srv)?:\/\//i[_0x5ce055(0x1da)](opts['db'])?opts[_0x5ce055(0x1ae)]?new mongoDBV2(opts['db']):new mongoDB(opts['db']):new JSONFile((opts['_'][0x0]?opts['_'][0x0]+'_':'')+_0x5ce055(0x1f4))),global[_0x5ce055(0x186)]=global['db'],global[_0x5ce055(0x19a)]=async function loadDatabase(){const _0x1f876d=_0x5ce055;if(global['db'][_0x1f876d(0x1e1)])return new Promise(_0x277cb4=>setInterval(async function(){const _0x9cbc45=_0x1f876d;!global['db']['READ']&&(clearInterval(this),_0x277cb4(global['db'][_0x9cbc45(0x194)]==null?global['loadDatabase']():global['db'][_0x9cbc45(0x194)]));},0x1*0x3e8));if(global['db'][_0x1f876d(0x194)]!==null)return;global['db'][_0x1f876d(0x1e1)]=!![],await global['db']['read']()[_0x1f876d(0x189)](console[_0x1f876d(0x174)]),global['db'][_0x1f876d(0x1e1)]=null,global['db'][_0x1f876d(0x194)]={'users':{},'chats':{},'stats':{},'msgs':{},'sticker':{},'settings':{},...global['db'][_0x1f876d(0x194)]||{}},global['db']['chain']=chain(global['db'][_0x1f876d(0x194)]);},loadDatabase(),global['authFile']=(opts['_'][0x0]||_0x5ce055(0x1f0))+'.data.json';const {state,saveState}=_0x59c85b[_0x5ce055(0x17e)](global['authFile']),connectionOptions={'printQRInTerminal':!![],'auth':state,'logger':_0x1d5da0({'level':'silent'}),'browser':[_0x5ce055(0x1c6),_0x5ce055(0x1f7),_0x5ce055(0x192)]};global[_0x5ce055(0x187)]=makeWASocket(connectionOptions),conn['isInit']=![];!opts[_0x5ce055(0x1da)]&&setInterval(async()=>{const _0x228f77=_0x5ce055;if(global['db']['data'])await global['db'][_0x228f77(0x181)]()[_0x228f77(0x189)](console[_0x228f77(0x174)]);if(opts[_0x228f77(0x199)])try{clearTmp();}catch(_0x3fd01b){console['error'](_0x3fd01b);}},0x3c*0x3e8);if(opts[_0x5ce055(0x1b5)])(await import(_0x5ce055(0x1ac)))['default'](global[_0x5ce055(0x187)],PORT);async function clearTmp(){const _0xc8226f=_0x5ce055,_0x11848b=[tmpdir(),join(__dirname,_0xc8226f(0x17b))],_0xf379d1=[];_0x11848b['forEach'](_0x52f4e3=>readdirSync(_0x52f4e3)[_0xc8226f(0x1b1)](_0xbf7f02=>_0xf379d1['push'](join(_0x52f4e3,_0xbf7f02))));const _0x1d0636=[];for(const _0x1fa058 of _0xf379d1){try{const _0x45f635=statSync(_0x1fa058);if(_0x45f635[_0xc8226f(0x190)]()&&Date[_0xc8226f(0x195)]()-_0x45f635[_0xc8226f(0x1ad)]>=0x3e8*0x3c*0x1){if(_0x1fea8a[_0xc8226f(0x184)](_0x1fa058)===_0xc8226f(0x1e8)){console[_0xc8226f(0x1c8)](_0xc8226f(0x183),_0x1fa058);continue;}unlinkSync(_0x1fa058),_0x1d0636[_0xc8226f(0x1c0)](_0x1fa058);}}catch(_0x97754e){console[_0xc8226f(0x174)](_0xc8226f(0x1a6),_0x1fa058,_0x97754e['code']);}}return _0x1d0636;}setInterval(async()=>{const _0x4c8d2b=_0x5ce055;try{var _0x38f817=await clearTmp();console['log'](_0x36a68b['cyan'](_0x4c8d2b(0x1c5))),console[_0x4c8d2b(0x1c8)](_0x4c8d2b(0x1b8),_0x38f817);}catch(_0x46ceb2){console[_0x4c8d2b(0x174)]('Error\x20in\x20clearing\x20tmp\x20folder:',_0x46ceb2);}},0xea60);async function connectionUpdate(_0x33a27e){const _0x1fc8b1=_0x5ce055,{connection:_0x526ca6,lastDisconnect:_0x223e19,isNewLogin:_0x5f79d3}=_0x33a27e;if(_0x5f79d3)conn['isInit']=!![];const _0x169faa=_0x223e19?.[_0x1fc8b1(0x174)]?.[_0x1fc8b1(0x1ee)]?.[_0x1fc8b1(0x1b6)]||_0x223e19?.['error']?.[_0x1fc8b1(0x1ee)]?.[_0x1fc8b1(0x19f)]?.[_0x1fc8b1(0x1b6)];_0x169faa&&_0x169faa!==DisconnectReason[_0x1fc8b1(0x1c1)]&&conn?.['ws']['readyState']!==CONNECTING&&(console[_0x1fc8b1(0x1c8)](await global[_0x1fc8b1(0x172)](!![])['catch'](console[_0x1fc8b1(0x174)])),global[_0x1fc8b1(0x1dd)][_0x1fc8b1(0x1eb)]=new Date());if(global['db'][_0x1fc8b1(0x194)]==null)loadDatabase();}process['on'](_0x5ce055(0x1ed),console[_0x5ce055(0x174)]);let isInit=!![],handler=await import(_0x5ce055(0x1cd));global[_0x5ce055(0x172)]=async function(_0x5dca11){const _0x1090f9=_0x5ce055;try{const _0x1967f0=await import(_0x1090f9(0x16c)+Date[_0x1090f9(0x195)]())[_0x1090f9(0x189)](console[_0x1090f9(0x174)]);if(Object['keys'](_0x1967f0||{})[_0x1090f9(0x1e4)])handler=_0x1967f0;}catch(_0x1591fa){console[_0x1090f9(0x174)](_0x1591fa);}if(_0x5dca11){const _0x3c6380=global['conn']['chats'];try{global[_0x1090f9(0x187)]['ws']['close']();}catch{}conn['ev'][_0x1090f9(0x18b)](),global[_0x1090f9(0x187)]=makeWASocket(connectionOptions,{'chats':_0x3c6380}),isInit=!![];}return!isInit&&(conn['ev'][_0x1090f9(0x177)](_0x1090f9(0x1a4),conn[_0x1090f9(0x1b9)]),conn['ev']['off'](_0x1090f9(0x1bc),conn[_0x1090f9(0x1ab)]),conn['ev']['off'](_0x1090f9(0x1ca),conn[_0x1090f9(0x1d5)]),conn['ev']['off'](_0x1090f9(0x1df),conn['onDelete']),conn['ev']['off'](_0x1090f9(0x1d6),conn[_0x1090f9(0x180)]),conn['ev'][_0x1090f9(0x177)]('creds.update',conn[_0x1090f9(0x1d2)])),conn[_0x1090f9(0x197)]='Hello,\x20@user\x0aWelcome\x20to\x20@group',conn[_0x1090f9(0x1cc)]=_0x1090f9(0x196),conn[_0x1090f9(0x178)]=_0x1090f9(0x1f2),conn[_0x1090f9(0x188)]=_0x1090f9(0x18a),conn[_0x1090f9(0x1cf)]='Group\x20description\x20changed\x20\x0a@desc',conn[_0x1090f9(0x18e)]=_0x1090f9(0x1aa),conn[_0x1090f9(0x17f)]=_0x1090f9(0x1c7),conn[_0x1090f9(0x1a2)]=_0x1090f9(0x17a),conn[_0x1090f9(0x1b9)]=handler[_0x1090f9(0x1b9)][_0x1090f9(0x179)](global[_0x1090f9(0x187)]),conn[_0x1090f9(0x1ab)]=handler[_0x1090f9(0x1ab)]['bind'](global[_0x1090f9(0x187)]),conn[_0x1090f9(0x1d5)]=handler[_0x1090f9(0x1d5)]['bind'](global[_0x1090f9(0x187)]),conn[_0x1090f9(0x173)]=handler[_0x1090f9(0x1c9)][_0x1090f9(0x179)](global['conn']),conn[_0x1090f9(0x180)]=connectionUpdate[_0x1090f9(0x179)](global['conn']),conn[_0x1090f9(0x1d2)]=saveState[_0x1090f9(0x179)](global['conn'],!![]),conn['ev']['on'](_0x1090f9(0x1a4),conn['handler']),conn['ev']['on'](_0x1090f9(0x1bc),conn[_0x1090f9(0x1ab)]),conn['ev']['on'](_0x1090f9(0x1ca),conn[_0x1090f9(0x1d5)]),conn['ev']['on']('message.delete',conn[_0x1090f9(0x173)]),conn['ev']['on'](_0x1090f9(0x1d6),conn[_0x1090f9(0x180)]),conn['ev']['on'](_0x1090f9(0x1e2),conn['credsUpdate']),isInit=![],!![];};const pluginFolder=global['__dirname'](join(__dirname,_0x5ce055(0x1d3))),pluginFilter=_0xa74ae5=>/\.js$/[_0x5ce055(0x1da)](_0xa74ae5);global[_0x5ce055(0x1a1)]={};async function filesInit(){const _0x1617bd=_0x5ce055;for(let _0x316bc5 of readdirSync(pluginFolder)['filter'](pluginFilter)){try{let _0x4a8dbc=global[_0x1617bd(0x1b0)](join(pluginFolder,_0x316bc5));const _0x51c4c9=await import(_0x4a8dbc);global[_0x1617bd(0x1a1)][_0x316bc5]=_0x51c4c9[_0x1617bd(0x1f6)]||_0x51c4c9;}catch(_0x1e954b){conn[_0x1617bd(0x176)][_0x1617bd(0x174)](_0x1e954b),delete global[_0x1617bd(0x1a1)][_0x316bc5];}}}filesInit()[_0x5ce055(0x16a)](_0x1e11b1=>console[_0x5ce055(0x1c8)](Object[_0x5ce055(0x1de)](global[_0x5ce055(0x1a1)])))[_0x5ce055(0x189)](console[_0x5ce055(0x174)]),global['reload']=async(_0x59e9d4,_0x2de110)=>{const _0x1d519a=_0x5ce055;if(pluginFilter(_0x2de110)){let _0x7393ae=global[_0x1d519a(0x1b0)](join(pluginFolder,_0x2de110),!![]);if(_0x2de110 in global['plugins']){if(existsSync(_0x7393ae))conn[_0x1d519a(0x176)][_0x1d519a(0x1a8)](_0x1d519a(0x1ef)+_0x2de110+'\x27');else return conn[_0x1d519a(0x176)][_0x1d519a(0x1c4)]('deleted\x20plugin\x20-\x20\x27'+_0x2de110+'\x27'),delete global[_0x1d519a(0x1a1)][_0x2de110];}else conn['logger'][_0x1d519a(0x1a8)]('new\x20plugin\x20-\x20\x27'+_0x2de110+'\x27');let _0x1c1290=_0x5e28a2(readFileSync(_0x7393ae),_0x2de110,{'sourceType':_0x1d519a(0x17d),'allowAwaitOutsideFunction':!![]});if(_0x1c1290)conn[_0x1d519a(0x176)][_0x1d519a(0x174)](_0x1d519a(0x1d0)+_0x2de110+'\x27\x0a'+format(_0x1c1290));else try{const _0x4621c6=await import(global['__filename'](_0x7393ae)+_0x1d519a(0x1cb)+Date['now']());global[_0x1d519a(0x1a1)][_0x2de110]=_0x4621c6['default']||_0x4621c6;}catch(_0x5dba34){conn['logger'][_0x1d519a(0x174)]('error\x20require\x20plugin\x20\x27'+_0x2de110+'\x0a'+format(_0x5dba34)+'\x27');}finally{global['plugins']=Object[_0x1d519a(0x1e5)](Object['entries'](global[_0x1d519a(0x1a1)])[_0x1d519a(0x182)](([_0x4c7810],[_0x145cc0])=>_0x4c7810[_0x1d519a(0x198)](_0x145cc0)));}}},Object[_0x5ce055(0x1d7)](global[_0x5ce055(0x1b7)]),watch(pluginFolder,global[_0x5ce055(0x1b7)]),await global[_0x5ce055(0x172)]();async function _quickTest(){const _0x4ed11a=_0x5ce055;let _0x294d06=await Promise[_0x4ed11a(0x1d1)]([spawn(_0x4ed11a(0x1d9)),spawn(_0x4ed11a(0x1e0)),spawn(_0x4ed11a(0x1d9),[_0x4ed11a(0x175),_0x4ed11a(0x1a3),'error','-filter_complex',_0x4ed11a(0x1b2),_0x4ed11a(0x1c3),'1','-f',_0x4ed11a(0x1b4),'-']),spawn(_0x4ed11a(0x191)),spawn(_0x4ed11a(0x1dc)),spawn('gm'),spawn(_0x4ed11a(0x1af),[_0x4ed11a(0x16b)])]['map'](_0x36bc07=>{const _0x22c304=_0x4ed11a;return Promise[_0x22c304(0x1a7)]([new Promise(_0x35b119=>{const _0x3c3435=_0x22c304;_0x36bc07['on'](_0x3c3435(0x1f3),_0x45dcd9=>{_0x35b119(_0x45dcd9!==0x7f);});}),new Promise(_0x2e8300=>{const _0x226067=_0x22c304;_0x36bc07['on'](_0x226067(0x174),_0x56bca3=>_0x2e8300(![]));})]);})),[_0x5a44d3,_0x4e6d16,_0x264edb,_0x3fa8e1,_0x5cec28,_0x470ba5,_0xe8d89d]=_0x294d06;console[_0x4ed11a(0x1c8)](_0x294d06);let _0x38b0f1=global[_0x4ed11a(0x18d)]={'ffmpeg':_0x5a44d3,'ffprobe':_0x4e6d16,'ffmpegWebp':_0x264edb,'convert':_0x3fa8e1,'magick':_0x5cec28,'gm':_0x470ba5,'find':_0xe8d89d};Object[_0x4ed11a(0x1d7)](global[_0x4ed11a(0x18d)]);if(!_0x38b0f1['ffmpeg'])conn[_0x4ed11a(0x176)][_0x4ed11a(0x1c4)](_0x4ed11a(0x1a0));if(_0x38b0f1[_0x4ed11a(0x1d9)]&&!_0x38b0f1[_0x4ed11a(0x1f1)])conn[_0x4ed11a(0x176)]['warn']('Stickers\x20may\x20not\x20animated\x20without\x20libwebp\x20on\x20ffmpeg\x20(--enable-ibwebp\x20while\x20compiling\x20ffmpeg)');if(!_0x38b0f1[_0x4ed11a(0x191)]&&!_0x38b0f1[_0x4ed11a(0x1dc)]&&!_0x38b0f1['gm'])conn[_0x4ed11a(0x176)]['warn'](_0x4ed11a(0x1bb));}_quickTest()[_0x5ce055(0x16a)](()=>conn[_0x5ce055(0x176)][_0x5ce055(0x1a8)](_0x5ce055(0x1db)))[_0x5ce055(0x189)](console[_0x5ce055(0x174)]);
